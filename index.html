<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ¿åèŠå¤©å®¤</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ‘ åŒ¿åèŠå¤©å®¤</h1>
            <p>ç•…æ‰€æ¬²è¨€ï¼Œä¿æŠ¤éšç§ - 10åˆ†é’Ÿæ— äººè¯´è¯è‡ªåŠ¨æ¸…ç†</p>
        </header>

        <div class="room-list">
            <div class="room-card" onclick="enterRoom('general', 'æ™®é€šèŠå¤©å®¤')">
                <div class="room-icon">ğŸ </div>
                <div class="room-info">
                    <h3>æ™®é€šèŠå¤©å®¤</h3>
                    <p>éšä¾¿èŠèŠ Â· <span class="online-count">0</span>äººåœ¨çº¿ Â· <span class="status-text">æ´»è·ƒä¸­</span></p>
                </div>
            </div>

            <div class="room-card" onclick="enterRoom('game', 'æ¸¸æˆäº¤æµå®¤')">
                <div class="room-icon">ğŸ®</div>
                <div class="room-info">
                    <h3>æ¸¸æˆäº¤æµå®¤</h3>
                    <p>åˆ†äº«æ¸¸æˆå¿ƒå¾— Â· <span class="online-count">0</span>äººåœ¨çº¿ Â· <span class="status-text">æ´»è·ƒä¸­</span></p>
                </div>
            </div>

            <div class="room-card" onclick="enterRoom('emotion', 'æƒ…æ„Ÿæ ‘æ´å®¤')">
                <div class="room-icon">ğŸ’¬</div>
                <div class="room-info">
                    <h3>æƒ…æ„Ÿæ ‘æ´å®¤</h3>
                    <p>å€¾è¯‰å¿ƒå£° Â· <span class="online-count">0</span>äººåœ¨çº¿ Â· <span class="status-text">æ´»è·ƒä¸­</span></p>
                </div>
            </div>
        </div>

        <button class="create-room-btn" onclick="createNewRoom()">
            + åˆ›å»ºæ–°èŠå¤©å®¤
        </button>

        <footer class="footer">
            <p>ğŸ”’ å®Œå…¨åŒ¿å Â· â±ï¸ è‡ªåŠ¨æ¸…ç† Â· ğŸ­ éšæœºèº«ä»½</p>
        </footer>
    </div>

    <script>
        // è¿›å…¥èŠå¤©å®¤ - ä½¿ç”¨URLå‚æ•°ä¼ é€’
        function enterRoom(roomId, roomName) {
            console.log('è¿›å…¥æˆ¿é—´:', roomId, roomName);
            
            // åŒæ—¶ä½¿ç”¨URLå‚æ•°å’ŒsessionStorage
            sessionStorage.setItem('currentRoom', roomId);
            sessionStorage.setItem('roomName', roomName);
            
            // è·³è½¬åˆ°èŠå¤©é¡µé¢ï¼Œæºå¸¦URLå‚æ•°
            window.location.href = `chat.html?roomId=${encodeURIComponent(roomId)}&roomName=${encodeURIComponent(roomName)}`;
        }

        function createNewRoom() {
            const roomId = 'room_' + Date.now();
            const roomName = 'æ–°èŠå¤©å®¤' + Math.random().toString(36).substr(2, 4);
            enterRoom(roomId, roomName);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¦–é¡µåŠ è½½å®Œæˆ');
        });
    </script>
</body>
</html>
